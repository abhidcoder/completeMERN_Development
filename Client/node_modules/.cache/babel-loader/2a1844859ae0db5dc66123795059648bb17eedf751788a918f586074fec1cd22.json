{"ast":null,"code":"var _jsxFileName = \"/Users/abhishekkumarsingh/Desktop/jobRobo/jpbrobo/Client/src/UserList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './Welcome.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserList() {\n  _s();\n  //Using the State to set the UserList from the API\n  const [userList, setUserList] = useState([]);\n  const serverUrl = \"http://localhost:8001\";\n\n  //Getting the List of the users from the API\n  //Using the fetch APIs Instead of Axios to avoid additional Dependencies for the project to be lighter resulting in faster proccessing.\n\n  useEffect(() => {\n    const getUserList = async () => {\n      try {\n        const response = await fetch(serverUrl + '/getClientLists', {\n          method: 'GET'\n        });\n        if (!response.ok) {\n          throw new Error('API request failed');\n        }\n        const datas = await response.json();\n        const data = datas.data;\n        console.log(\"Iam the DATA\", data);\n        setUserList(data);\n      } catch (error) {\n        console.error('API request failed: While Getting the ClientList', error);\n      }\n    };\n    getUserList();\n  }, []); // Insering Empty dependency array to ensure that useEffect runs only once and not Making any unnecessary requests to API\n\n  //Keeping the track of the Deleted User list so that /getClientLists Endpoint should not be hit over and over again\n  const deleteUser = async Mobile => {\n    try {\n      // Making a POST request to the API to delete the user via API, treating phone number as a unique identifier\n      // Using a parameterized way and POST request to hit the API\n      // Using parameterized query to increase the performance and keeping it readable as the data is not sensitive\n      // Processing the deletion data by using filteration at client side saves API from too many requests while getting the list from the API after the deletion of the client from the list.\n\n      const response = await fetch(serverUrl + '/deleteUser/' + Mobile, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        // Handle success (e.g., remove the row from the state)\n        setUserList(userList => userList.filter(user => user.Mobile !== Mobile));\n      } else {\n        throw new Error('Delete request failed');\n      }\n    } catch (error) {\n      console.error('Delete request failed:', error);\n    }\n  };\n  const editUser = Mobile => {\n    window.location.href = '/Update/';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"heading\",\n      children: \"User Lists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/AddUser\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dbutton\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"user-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CTA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"spoc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Mobile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CreatedDate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: userList.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.Contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.CTA\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.SPOC\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.Mobile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.Email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.CreatedDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"actions\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"edit-button\",\n                onClick: () => editUser(user.Mobile),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"actions\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => deleteUser(user.Mobile),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, user.Mobile, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(UserList, \"XZtmH22gSBQm+njpQReo0puLaas=\");\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","UserList","_s","userList","setUserList","serverUrl","getUserList","response","fetch","method","ok","Error","datas","json","data","console","log","error","deleteUser","Mobile","filter","user","editUser","window","location","href","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","map","Contact","CTA","SPOC","Email","CreatedDate","onClick","_c","$RefreshReg$"],"sources":["/Users/abhishekkumarsingh/Desktop/jobRobo/jpbrobo/Client/src/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Welcome.css'\n\nfunction UserList() {\n\n  //Using the State to set the UserList from the API\n  const [userList, setUserList] = useState([]);\n\n  const serverUrl = \"http://localhost:8001\";\n\n  //Getting the List of the users from the API\n  //Using the fetch APIs Instead of Axios to avoid additional Dependencies for the project to be lighter resulting in faster proccessing.\n\n  useEffect(() => {\n    const getUserList = async () => {\n      try {\n        const response = await fetch(serverUrl +'/getClientLists', {\n          method: 'GET', \n        });\n        if (!response.ok) {\n          throw new Error('API request failed');\n        }\n        const datas = await response.json();\n        const data = datas.data;\n        console.log(\"Iam the DATA\",data);\n        setUserList(data);\n      } catch (error) {\n        console.error('API request failed: While Getting the ClientList', error);\n      }\n    };\n    getUserList();\n  }, []);  // Insering Empty dependency array to ensure that useEffect runs only once and not Making any unnecessary requests to API\n\n\n\n  //Keeping the track of the Deleted User list so that /getClientLists Endpoint should not be hit over and over again\n  const deleteUser = async (Mobile) => {\n    try {\n\n      // Making a POST request to the API to delete the user via API, treating phone number as a unique identifier\n      // Using a parameterized way and POST request to hit the API\n      // Using parameterized query to increase the performance and keeping it readable as the data is not sensitive\n      // Processing the deletion data by using filteration at client side saves API from too many requests while getting the list from the API after the deletion of the client from the list.\n\n      const response = await fetch(serverUrl +'/deleteUser/' + Mobile, {\n        method: 'DELETE',\n      });\n  \n      if (response.ok) {\n        // Handle success (e.g., remove the row from the state)\n        setUserList((userList) =>\n        userList.filter((user) => user.Mobile !== Mobile)\n        );\n      } else {\n        throw new Error('Delete request failed');\n      }\n    } catch (error) {\n      console.error('Delete request failed:', error);\n    }\n  };\n\n\n  const editUser = (Mobile) => {\n    window.location.href = '/Update/'\n  };\n\n  return (\n    <div>\n      <h1 className=\"heading\" >User Lists</h1>\n      <div style={{ textAlign: 'center' }}>\n        {/* Add a \"Create\" button that links to the /create endpoint */}\n        <a href=\"/AddUser\">\n          <button className=\"dbutton\">\n            Create\n          </button>\n        </a>\n      </div>\n\n      <table className=\"user-table\">\n        <thead>\n          <tr>\n            <th>Contact</th>\n            <th>CTA</th>\n            <th>spoc</th>\n            <th>Mobile</th>\n            <th>Email</th>\n            <th>CreatedDate</th>\n          </tr>\n        </thead>\n        <tbody>\n          {userList.map((user) => (\n            <tr key={user.Mobile}>\n              <td>{user.Contact}</td>\n              <td>{user.CTA}</td>\n              <td>{user.SPOC}</td>\n              <td>{user.Mobile}</td>\n              <td>{user.Email}</td>\n              <td>{user.CreatedDate}</td>\n              <td className=\"actions\">\n                <span>\n                <button className=\"edit-button\" onClick={() => editUser(user.Mobile)}>\n                  Edit\n                </button>\n                </span>\n              </td>\n              <td className=\"actions\">\n                <span>\n                  <button  className=\"delete-button\"\n                  onClick={() => deleteUser(user.Mobile)}>Delete</button>\n                </span>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default UserList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}